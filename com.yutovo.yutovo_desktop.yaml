app-id: com.yutovo.yutovo_desktop
runtime: org.kde.Platform
runtime-version: '5.15-24.08'
sdk: org.kde.Sdk
command: run.sh
finish-args:
  - --socket=x11
  - --env=LD_LIBRARY_PATH=/app/bin:$LD_LIBRARY_PATH
modules:
  - name: yutovo_desktop
    buildsystem: simple
    build-commands:
      - cp -r bin/ /app/bin/
      - mkdir -p /app/share/icons/hicolor/scalable/apps
      - mkdir /app/share/metainfo
      - mkdir /app/share/applications
      - install -Dm644 /app/bin/com.yutovo.yutovo_desktop.png /app/share/icons/hicolor/scalable/apps/
      - install -Dm644 /app/bin/com.yutovo.yutovo_desktop.desktop /app/share/applications/
      - install -Dm644 /app/bin/com.yutovo.yutovo_desktop.metainfo.xml /app/share/metainfo/
    sources:
      - type: archive
        url: http://yutovo.com/yutovo-bin.tar.gz
        dest: bin/
        sha256: 2c5e0d5d46a889ce5187edfac89867664e9029b879b79b3d588e82dcd0d382e6
      - type: file
        path: ./run.sh
        dest: bin/